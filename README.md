# Packets Sniffer  

###### 东南大学计算机科学与工程学院----计算机与网络课程设计----简易图形化轻量抓包工具  

## 简介
本软件的主要目的与用途是提供一个轻量化的并附带有图形化界面的抓包工具，可以抓取流经网络适配器的报文信息，并将报文详细信息展示保存在本地文件内。

### 依赖包

软件依赖于[Maven](https://maven.apache.org/) 导入外部依赖Jar，主要依赖模组包含：  

* [JavaFx](https://openjfx.io/) 一个开源的Java应用程序前端框架与工具包

* [pcap4j](https://github.com/kaitoy/pcap4j) 开源Java函数库，提供包含抓包、探测报文与发送报文的函数接口  

### 配置

软件将自动检测主机当前可用的适配器，并获取适配器名称与ip地址，用户可直接在配置GUI中选择适当的适配器，此适配器将作为抓包的对象。除此之外，软件还需要以下配置项：

* 适配器工作模式（混杂模式/非混杂模式），关于混杂模式与非混杂模式可以看[这里](https://zh.wikipedia.org/zh-hant/%E6%B7%B7%E6%9D%82%E6%A8%A1%E5%BC%8F) 

* 探测报文最大长度（0~65536）（单位:Byte）

* 探测周期（1~20000）（单位:毫秒）

所有的配置都可以在GUI内完成，也可以修改软件根目录下的config文件以达到修改目的。
### 具体功能

配置完成后，便可以运行软件的主线程，主线程将在每个探测周期内从目标适配器抓取报文并读到内存并存储在特定数组中，前端线程也将每隔20ms从数组中抓取报文信息并刷新界面。除此之外，软件提供的其他抓包辅助功能包括

* 显示报文的协议信息，软件将从以太网帧中获取帧类型片段，并以此对报文进行分组。对IPv4格式的报文，软件还将检测其IPv4报文头部的协议字段，以确定其传输层协议；
* 确定报文的目的IP地址与源IP地址，展示特定报文的目的端口与源端口；
* 显示报文的应用层信息，并使用UTF-8编码对其转码显示，对于特殊协议如HTTP协议，将进行特殊标注；
* 保存至文件，软件将每一千条报文保存在一个txt文件内，
* 过滤器，可以根据协议类型、源IP地址、目的IP地址、源端口、目的端口等信息对所有报文进行过滤。
### 代码框架

本软件应用JavaFx的标准MVC模式进行构造，具体框架如下，详情可参考src/：

> src
>
> > com
> > >sniffer
> > >>net 
> > >>
> > >>> snifferThread 后端主线程
> > >
> > >> UI 
> > >> >fxml
> > >> >css
> > >> >controller
> > >
> > >> > util

### 开发进度

目前软件基本功能除过滤器与详细信息展示以外已经全部实现，接下来两周将主要进行

+ 完成过滤器与展示详细信息的功能
+ 美化UI，修复bug
+ 酌情考虑增加附加功能

### 

